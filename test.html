<!DOCTYPE html>
<html lang="en-US">

	<head>
	    <meta charset="UTF-8">
	    <meta name="viewport" content="width=device-width, initial-scale=1">
	    <title>Query String Parser</title>
	</head>

	<body>
		<h1>Parse Query String</h1>
		<code id="result"></code>

		<script>
		function parseQueryString(query) {
		        var obj = {},
		            qPos = query.indexOf("?"),
				    tokens = query.substr(qPos + 1).split('&')
				    i = tokens.length - 1;
				if (qPos !== -1 || query.indexOf("=") !== -1) {
					for (; i >= 0; i--) {
						var s = tokens[i].split('=');
						obj[unescape(s[0])] = s.hasOwnProperty(1) ? unescape(s[1]) : null;
					};
				}
				return obj;
		}


		/* Demo */

		var queryString = window.location.href;
		// var queryString = 'https://www.google.co.uk/search?client=safari&rls=en&q=twitter+newmancunian&ie=UTF-8&oe=UTF-8';

		var obj = parseQueryString(queryString);
		document.getElementById('result').innerHTML = JSON.stringify(obj);
		</script>

	</body>
</html>